package PageTest;

import java.io.IOException;
import java.util.ArrayList;
import java.util.List;

import org.apache.poi.EncryptedDocumentException;
import org.apache.poi.openxml4j.exceptions.InvalidFormatException;
import org.json.JSONArray;
import org.json.JSONObject;
import org.testng.annotations.BeforeTest;
import org.testng.annotations.DataProvider;
import org.testng.annotations.Test;

import drivers.Driverclass;
import utils.common.TestDataReader;

public class Test1 {

	private final String PATH = System.getProperty("user.dir") + "/src/test/resources/data/Testdata/roisimpleview.json";
	 private List<String> urlList;
	 private JSONArray jsonArray;
	    private JSONObject jsonObject;
	Driverclass driver=new Driverclass();
	
	@DataProvider(name="namevalues")
	public Object[][] getdata() throws EncryptedDocumentException, InvalidFormatException, IOException{
		Object [][]data=TestDataReader.gettestdata();
		return data;		
	}
	
	@DataProvider(name = "roiValidInputsValues")
    public JSONObject readValidValues() throws Exception {
		
        urlList = new ArrayList<String>();
        Object[] data = null;
        jsonObject = TestDataReader.readTestDataAsJsonObject(PATH);
        /*jsonArray = (JSONArray) jsonObject.get("valid");
        data = new Object[jsonArray.length()];
        for (int i = 0; i < jsonArray.length(); i++) {
            data[i] = jsonArray.get(i);
        }*/
        return jsonObject;
    }
	
	@BeforeTest
	public void sett() {
	//driver.setbrowsr();
	}
	
	@Test(dataProvider="namevalues",priority=1)
	public void login(String name, String surname) {
		System.out.println("Hi");
		System.out.println(name);
		System.out.println(surname);
	}
	
	@Test(dataProvider = "roiValidInputsValues",priority=2)
	public void dataread(JSONObject roi) {
		System.out.println(roi.get("valid"));
	}
}
